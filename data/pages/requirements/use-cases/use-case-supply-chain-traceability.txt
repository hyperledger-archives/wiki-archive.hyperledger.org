====== Supply Chain Traceability ======

==== Section 1 - Intro ====


Overview of the Business Problem or Opportunity
 
For purposes of this specific use case, traceability will incorporate three “dimensions”, noted below. The three dimensions intersect to varying degrees and are required for robust supply chain traceability. 
 
=== 1.      End – end traceability ===
 - gathering of all items required to develop the product to final delivery of said product to return of product. 
=== 2.      Product characteristics ===
 - how is the product defined by industry, organizations, consumers, govt. etc.
=== 3.      Regulatory concerns ===
 - ensuring the traceable item meets compliance requirements.
 
Identifying the path by which the product makes its way from creation to end delivery is the basic construct required when fleshing out the details for supply chain traceability. An additional component of this dimension can be the need to follow a product back to its origin depending on the type of product. The complexity of following the end – end loop is increased exponentially in relation to the product’s characteristics. Finally, the laws and regulations affecting the product on its journey need to be identified and considered in regards to traceability. 
 
Given the wide variety of possibilities for an organization’s product set, characteristics of a product vary widely. The spectrum of products is truly enormous.  “Earth based products” such as diamonds, rare earth minerals or minerals from conflict zones are on one end of the spectrum, at other ends of the spectrum, there are sensitive electronics to tractors and jet aircraft. 
 
An example of the complexity in regards to product characteristics follows. One organization produces individual electronic parts such as capacitors and resistors which are their products. Another organization uses those parts in a circuit board for their products. A third company builds a digital display, that incorporates the circuit board, for its product line. Finally, a tractor manufacturer incorporates the digital display into a series of trucks for consumer and corporate purchase.
 
Supply chain traceability challenges continue to increase when upgrades and repairs are performed. In many instances, a product may require an upgrade to its software or require upgraded parts and assemblies and new parts to repair failures. Issues stemming from improper software upgrades or malicious code are an increasing threat as technology advances in sophistication and automation. Counterfeit parts impugn the reputation of companies due to their inherent nature of being unreliable. In this vein, the counterfeits cause economic damage to the real producer.
 
Counterfeit parts are very real threat to the supply chain. “Sometime in the not-to-distant future, a submarine will sink. An air defense missile will detonate far from its intended target. [sic] directly result from a $2 counterfeit electronic tucked deep within a billion-dollar military technology.” (1)
 
Traceability and its relation to the law (e.g., regulatory law, international law etc.) has a profound effect upon many products. In the case of diamonds, conflict minerals or rare earth derived material several international agreements and global law governing these items. Ensuing traceability of these products can literally mean the difference between supporting terrorist groups or supporting those who need good jobs to provide for their family. 
 
Environmental sustainability and the desire to ensure products are meet or exceed environmentally sound practices have a need for verifiable traceability. Traceability strategies or schemes related to sustainability are intertwined with industry consortium.  Examples of these include the Forest Stewardship Council (FSC), the Marine Stewardship Council (MSC) or UTZ Certification. These consortiums provide “robust chain of custody standards and certification for products from the raw material to the final use phase.” (2)
 
Current Solution
While there are a variety of supply chain solutions and technology, the capability for ensuring traceability is commonly focused, to a varying degree, on specific links in the chain rather than across the full end – end supply chain (product creation to customer delivery to product return). In fact, during an MIT Center for Transportation and Logistics round table, a shipper noted, “… there are “many fragmented players, different technologies, lots of choices, and no single standard.” (3)
 
This situation is further exasperated by the inability to communicate product lifecycle traceability across the partner trading networks. The complexity found across the partner network, in the context of traceability, is extended in part through the varying needs of each participant in the network. The depth and proper definitions of governance is a major component required for a comprehensive functioning network. The technology interoperability and integration needs of each partner required to support individual traceability requirements leads to a variety of information silos unable to support the broader ecosystem.
 
Why Distributed Ledger Technology?
DLT provides a means by which every step in the supply chain can be readily tracked. Information dissemination of agreed upon parameters of a product or set of products provides the ability for multiple constituents (suppliers, producers, regulatory agencies, consumers etc.) to have verifiable provenance of the product. For instance, an abundant target opportunities for criminals exists costing “… U.S.-based semiconductor companies more than $7.5 billion each year." (4)
 
Using a consortium based model, DLT provides the ability to follow a product from inception to end point delivery while maintaining an appropriate degree of control and information availability to the consortium members. The three main components (end-end traceability, physical characteristics and regulatory concerns) can be properly accounted for through ensuring the permissions and access required of each entity (e.g., regulator, customer, partner, producer etc.) 
 
Consider microchips. As noted above, counterfeit microchips cost multiple billions and a countless number of excellent paying jobs in the U.S. alone. The counterfeit process itself results in massive amount of environmental damage. One example of “reprocessing” is that the “reprocessors” often uses acid is used to strip microchips from a circuit board. The boards are slammed against a hard surface to quickly remove the part. Finally, a fake coating with fake laser etching is used to re-purpose the microchip. 
 
The chips have now sustained damage invisible to the eye, there is simply no way to identify the extent of damage. The best-case scenario with a worst-case scenario leading to minor repairs with worst case scenario leading to catastrophic failure of an aircraft. 
 
One method of eliminating the stopping chip counterfeits is to capture the location where the microchips were created and process the specific port of entry. If it is recognized the port of entry is a mismatch, the microchips would be held by customs and a notification sent to the appropriate parties detailing the counterfeit status. All these actions and processing are carried out via the Blockchain. 
 
Opportunity/Justification
The current trace request process is started by a traceability partner, an end user inquiry or adverse event.  The trace request initiator then follows the same path as the information flow and in some instances, may jump a step to contact Traceability Partners further up or down the chain to obtain the information. The traceability data source must also reply as quickly as possible to the enquiry and within the time frame governed by regulations and commercial agreements. 
 
In one value add scenario, Blockchain provides almost instantaneous access for the request by allowing the requestor to access the trace data. From the blockchain, provided the permissions are in place, the requestor can navigate or view the required data to fulfill the request. In Hyperledger, the usage of chain code along with enacting controls for role based access and permissions enables the data to be segregated by the specific business need or designed for providing the data per its expected usage by the requestor. 
 
In another value add scenario, Blockchain is used to thwart the damages caused by interjecting counterfeit items. The user story in section two illustrates this with a focus on counterfeit microchips but other areas of counterfeit fraud link back to the issue of improper software upgrades note earlier. “How can the maintenance crew on a U.S. aircraft carrier have absolute confidence that the software file they downloaded to 3D print a new part for a fighter jet hasn’t been hacked by a foreign adversary?” (5)
 
Other areas in which Blockchain can add real value include: provenance verification, incorporation of regulatory mechanisms that improve efficiencies across the supply chain. There are other opportunities by which Blockchain can be incorporate into a larger end-end architecture to derive additional benefits for the supply chain including: financial optimization optimized shipping costs, optimized taxes etc.
 
====  Section 2 - User Stories and Requirements ====

In this example, we demonstrate a user story based on shipping microchips from a company based in the Asia-Pac region to an end a set of microchips to the United States (US). The initial entry point for the microchips is a port of entry in San Diego. The chips are first inspected by customs prior to being sent on their way to the final destination. All users in this story have a traceability role while some may assume a trading partner role. The chips themselves have unique markings that provide a tracking mechanism indicating the chips should have arrived from Europe and therefore causes US customs to become suspicious and flag the chips for further inspection. The following diagram is designed to elucidate an event flow of the use case. 



Customs entity is validated and enabled to perform a “counterfeit check”
Customs submits a “counterfeit check” request
Submitting client starts the “counterfeit check” via counterfeit recognition processing based on the received microchips and associated data
Endorsing peer enacts a ”counterfeit check” via Chain Code to validate product provenance and authenticity status
Chain code interacts with the Data Validation Layer to validate the microchip’s status
A possible counterfeit product is identified as the item has arrived in a San Diego, California Port from the APAC region, expected arrival Port was Miami, Florida from the EMEA region
Read/write set (possible counterfeit product) is delivered to the submitting client
A “counterfeit notification” transaction is endorsed and delivered
“Counterfeit notification” transaction delivered
“Counterfeit notification” data is stored on the ledger.

A data validation layer is shown which incorporates Fabric’s LevelDB, CouchDB along with other databases integrated into the architecture. As the product has been identified as a possible counterfeit, additional flags can be passed to the data validation layer that would provide an automated means for Blockchain participants (e.g., buyers and OEM’s) to be alerted to predefined conditions as in the case of counterfeiting. Proven cases of counterfeiting will be efficiently processed enabling Blockchain participants full transparency of traceability partners. 

Key Concepts: 
Four key concepts: (1) core identity, (2) external data handling; (3) configuring permissions; and (4) regulatory concerns need to be accounted for within the scenario noted above. The concepts will be applicable across a variety of Supply Chain traceability uses and are therefore identified specifically within the next few paragraphs but are not detailed in this particular use case due to the various possibilities and incarnations that can come into play.

The first concept incorporates the idea of developing a core identity (i.e., unique identity) of an item. This identity defines what the asset, product or item is. For instance in our scenario the core identity would be developed every lot of microchips with every new lot created with a new persona. Identities would be extended by capturing additional event information appropriate to the product (e.g., date/times of arrival, regulatory compliance information collection etc.) using a Digital Identity Protocol. Another means of developing a core identity is through the product owning every single lot (core identity) providing for unique products per lot. In this case data will be collected against each individual lot. 

In practice, a chipset will have its own private/public key. A program is executed and then used to “sign” the chipset’s ID.  As the chipset is processed through the supply chain, there will be a signing algorithm in place used to verify the chipset which is promulgated through the Digital Identity structure and is designed as platform agnostic. 

Using either method for development of the core identity enables process data to be attached to the core identity which then provides the provenance traceability. As an example an assembly may have the need for a software update maintenance event. The update is applied with the resultant updated recorded on the DLT, ensuring the traceability provenance. This individual actions (e.g., software update) are all recorded providing a clear picture throughout the asset’s lifecycle. The following *diagram provides a graphical depiction of a Digital Identity.

*TCS Patent Pending Digital Identity Component

The second key concept involves data following the asset that has been defined, stored, altered etc. outside the Supply Chain Blockchain used for performing traceability. A multitude of trust issues could stem from external data when the Blockchain is functioning as expected. Even simple provenance issues such as inaccurate time stamps or improperly geotagging of products have the possibility of causing a catastrophic event (e.g., customers dying or taking ill from listeria that has found its way to your company's’ spinach or an F-35 crashing due to counterfeit microchips). 

In this concept, the Digital Identity of the data provider outside the Blockchain environment can be made known which can be trusted to ensure the data provider has been identified in the event issues arise with the data. Again, there is no provenance, accuracy or other DLT mechanism to ensure valid data has been introduced to the system from an external source. A Data Oracle can be one example of an invalid external source where this risk would need to be identified and mitigated. 

The third key concept involves determining how permissions can be configured so that the right separation between public and private data is designed into the environment. While permissions scenario used in this document reflects the operations of a DLT between five entities (customs, buyer, seller, broker and OEM) there are multitudes of situations wherein architecting and building permissions suitable to a complex supply chain encompassing thousands of entities needs to be accounted for. 

Suppliers would share information with the “parent” trading partner but have their information siloed via a channel (i.e., sub-ledger) enabling the data to be hidden from other competitors. 
If additional entities needed access for any particular reason, third party commercial lender, they could be added to the channel to access the information. 

The fourth key concept concerns regulatory requirements that may or may not apply given to any particular traceability scenario. As the supply chain complexity increases around products, the likelihood of an increasing web of intersecting regulations becomes apparent. There are even instances where compliance with some regulatory requirements clashes with other other regulatory requirements. Some industries such as food manufacturing or rare earth production have dedicated traceability schemes specialize by sub-industry. For instance, coffee producers have three Global Collaborative Traceability Schemes involved with coffee production.

Blockchain capabilities can be expanded with additional technical components to provide a complete end - end architecture that layers in the the Hyperledger Fabric as a Processing Rules Engine. The engine would enact various transactions based on chain code algorithms that were driven from the regulatory rules loaded in the engine. In this manner, the Blockchain participants would have the ability to ensure regulatory compliance. An additional value add will be through providing the ability to extrapolate benefits through identifying revenue sources, tax optimization and more using the Hyperledger Fabric as a Value Engine where multiple data science techniques can be applied against the Value Engine.

Some additional context to the scenario described below is that external traceability exists when an item is transferred from on traceability partner to another. In this example the shipper acts as a traceable item source and the customer is supposed to be the traceable item recipient. 

User Rubric:
User
As a…
Wants to….
Because….
Customs
Government entity
Identify counterfeits parts 
They are tasked with identifying counterfeit items and stopping them from entering the US.
*Traceable Item Source    	
The microchip sourcing entity
Sell and ship counterfeit microchips
Are a criminal element.
Traceable Item Recipient
The purchasing entity
Purchase supposedly good microchips        	
They have identified a lot of microchips that have come up in the grey market making it worth the customer’s while to purchase the chips.
 
OEM
Original manufacturer
Identify and track large lot purchases
Ensure they can enforce contractual obligations of their partners in addition to understanding developing data for understanding the efficacy of their counterfeiting countermeasures.
 
**Broker
Intermediary between
the shipper and customer
Entity whereby a previously unknown
They receive a commission based on the purchase of the microchips for finding a buyer. 
 
 
 
*The shipper is a criminal actor but is a definite user within this scenario.
**Broker may not be a criminal actor but at a minimum should be held some share of responsibility as they should have known the shipper was providing counterfeit parts.
 
Section 3 - Requirements Not Related to User Stories
The following requirements used the GS1 Global_Traceability_Standard (6) as a foundation.
 
General traceability requirements include:
- The traceability partners can (one step up, on step down):
        	- Track the item back to the partner that sent the part
        	- Follow the path of the item to the next direct traceability partner receiving the part
 
Information flows:
- Provide a separate track for information flows (one up, one down principle)
        	- Minimum amount of data that is recorded across Traceability Partners
        	- Ensure visibility and linkage across all appropriate levels
        	- Additional information defined by the network is recorded and shared

Assumptions for the traceable item matrix/hierarchy include:
- Traceable items may need batch/lot physical number based on certain regulations
- Where needed, a best before date should be added, e.g., fresh food
- As the traceable precision level increases a serial number may need to be incorporated
- A serial number may be appropriate for items not crossing the point of sale that need to be traced at this level.
 

Data Requirements:



General Traceability Data Requirements
Logical Grouping:
Data Type:
Who: Traceability Partners (ID and data elements)
Master Data
What: item (ID and data elements)
Master Data
Where: location (ID and data elements)
Master Data
*What occurred: process of events
Event or Operational Data
When: dates and times
Event or Operational Data
*At this time, remains undefined due to the variety of possible events. 

Master Data:
Logical Grouping:
Data Field:
Who (Traceability Partner)
Global Location Number (see glossary)


Entity Name


Entity Point of Contact 


Entity Street


Entity State/Province


Entity Zip Code/Postal Code


Entity Country
What (Trade Item)
GTIN 


Batch/Lot


Shipping Container Height


Shipping Container Weight


Shipping Container Length


Weight


Name


Product Description
Where (Location)
Location Geostamp


Logical Grouping:
Data Type:
When (Timing) 
Planned time	


Expected time


Actual time


Planned Date


Expected Date


Actual Date
        	
 
General Data Characteristics:


Master data is relatively consistent. 


Transactional data is independent from day to day according to the physical events. 
33

Location identification precision level defined by the traceability partner (e.g., warehouse location down to a precise bin location in the warehouse).
4.
Must be defined with appropriate governance rules prior to physical flow of items.
5.
Private details (which are defined in the contract) can include:
- product specifications
- process of production
- components
- raw material origin.
6.
Event or transactional data:
- created during physical flow of goods
- collected when events occur.

Characteristics of Locations Identification:


Must be globally identifiable.


Must be uniquely identifiable.
33

Location identification precision level defined by the traceability partner (e.g., warehouse location down to a precise bin location in the warehouse).

Characteristics of Trading Partners Identification:


 Have globally recognized identification.


 Be uniquely identified.
33

 Have identification precision level defined by the traceability partner (e.g., Legal Entity).
 
Characteristics of Product/Item Traceable Identification:


Must be globally identifiable.


Must be uniquely identifiable.
3

Must  have items identification applicable to all product hierarchy levels as appropriate.


Must be assigned at the latest when physically created.


Must at a minimum have GTIN identification for trade items.


Varying precision level required depending on the item (e.g.,  more precision spreading from batch/lot number to serial number/SGTIN).


Identification  precision level defined by the traceability partner.


Logistics units must be uniquely identified (e.g., serial shipping container code specifications). 


All traceable items must carry identifiers on the asset containing it or accompanying documents. 


Best  practices dictate using a human readable form in the most appropriate location (e.g. on the product or with the product documentation etc.).


Identification carrier must remain on or attached to the traceable item when packed in an upper level of packaging.
 
Section 4 - External References and Glossary
Cited Quotes:
 
http://www.businessinsider.com/technology-is-a-huge-national-security-threat-2013-8
https://www.unglobalcompact.org/docs/issues_doc/supply_chain/Traceability/Guide_to_Traceability.pdf
https://knowthechain.org/the-logistics-of-tracking-traceability/
https://www.semiconductors.org/clientuploads/directory/DocumentSIA/Anti Counterfeiting Task Force/ACTF Whitepaper Counterfeit One Pager Final.pdf
https://hbr.org/2017/03/global-supply-chains-are-about-to-get-better-thanks-to-blockchain
http://www.gs1.org/sites/default/files/docs/traceability/Global_Traceability_Standard.pdf
 
Other Researched Works:
http://searchmanufacturingerp.techtarget.com/feature/Blockchain-not-a-panacea-for-supply-chain-traceability-transparency 
https://www.provenance.org/whitepaper
Handbook of Research on Global Supply Chain Management
https://www.unglobalcompact.org/docs/issues_doc/supply_chain/Traceability/Guide_to_Traceability.pdf 
http://www.defenseone.com/technology/2013/08/counterfeits-can-kill-us-troops-so-why-isnt-congress-and-dod-doing-more-stop-it/68381/
https://hbr.org/2017/03/global-supply-chains-are-about-to-get-better-thanks-to-blockchain 
https://blog.michaeldowling.me/the-upcoming-fabric-1-0-release-6271809d023

Glossary:
Logical Grouping:
Data Type:
Global Location Number (GLN) 
The GS1 Identification Key used to identify physical locations or legal entities. The key is comprised of a GS1 Company Prefix, Location Reference, and Check Digit. 
(GTIN) The GS1 Identification Key used to identify trade items. 
The GS1 Identification Key used to identify trade items. The key is comprised of a GS1 or U.P.C. Company Prefix followed by an Item Reference Number and a Check Digit.



Updates:
Categorize data in a table format
	What is Identity data, data unique to an asset that do not change over time

Process data
	Dynamic data that is going to change
	Geo location, timestamp, signatures
	Accumulating throughout the supply chain
	Look @ GS1 doc page 20 for more information
	
Core identity around which data is collected: 
	The way we define assets - product as a unique identity.
Intel GPU chip or Snapdragon - core identity - every lot created creates a new persona around it	

	Associate different personas to product (manufacturing process) batch - lot
		Digital Identity Protocol

	Product owns every single lot - with uniques product to the lot
		Collect data around each individual lot

Then attach process data to core identity to create provenance traceability - change, maintenance event all are recorded (e.g., product needs to be touched) throughout the lifecycle.

Provenance - 
Provenance of data not originating from Hyperledger, can the time stamp be trusted, what is the trust and evidence? Chipset has its own private/public key, program is executed and then signed then you can have a signing algorithm to verify the chipset. Through the digital IDentity structure, platform agnostic. 

Data privacy is an issue, associate data to a digital identity.  Every chipset has its own identity. Verify the originator of the data but not if the data has been tampered with. 

Mitigating falsification coming from a Data Oracle

Diagrams needed - 
High Level Diagram providing end - end steps of the use case scenario overlayed with the Hyperledger Fabric components (peers etc.)
Pictorial addressing Oleg’s request immediately below. 
Oleg - Capturing numbers context of how many actors/entities could be involved (e.g., Blockchain organic provenance could be thousands of food growers - number of actors/ number of nodes/number of records). 



